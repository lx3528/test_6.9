f=@(a,x)a(1)*gevpdf(x,a(2),a(3),a(4));
x=[305    310    315    320    325    330    335    340    345    350    360    370    380    390    400    410    420    430    440    450    460    470    480    490    500    510    520    530    540    550    570    590    610    630    650    670    690    710    718    724    740    753    758    763    768    780    800    816    824    832    840    860    880    905    915    925    930    937    948    965    980    993    1040    1070    1100    1120];
y=[9.5    42.3    107.8    181    246.8    395.3    390.1    435.3    438.9    483.7    520.3    666.2    712.5    720.7    1013.1    1158.2    1184    1071.9    1302    1526    1599.6    1581    1628.3    1539.2    1548.7    1586.5    1484.9    1572.4    1550.7    1561.5    1501.5    1395.5    1485.3    1434.1    1419.9    1392.3    1130    1316.7    1010.3    1043.2    1211.2    1193.9    1175.5    643.1    1030.7    1131.1    1081.6    849.2    785    916.4    959.9    978.9    933.2    748.5    667.5    690.3    403.6    258.3    313.6    526.8    646.4    746.8    690.5    637.5    412.6    108.9];
p=nlinfit(x,y,f,[20000,0.2,50,300])
yp=f(p,x);
plot(x,y,'.')
hold on
plot(x,yp,'r')